<dx-toolbar [ngStyle]="{ paddingLeft: '25px', paddingRight: '25px' }">
  <dxi-item [location]="'before'" [text]="'Medical Checkups'"> </dxi-item>
  <dxi-item location="after" locateInMenu="auto">
    <dx-button
      icon="arrowright"
      type="outline"
      text="Health Condition"
      hint="Navigate to Health Condition"
      (onClick)="navigateToHealthCondition()"
    >
    </dx-button>
  </dxi-item>
</dx-toolbar>
<dx-box>
  <dxi-item [ratio]="3">
    <p class="sortable-header">Pending</p>
    <dx-toolbar>
      <dxi-item
        widget="dxTextBox"
        [options]="searchBoxOptions"
        location="center"
        locateInMenu="auto"
      >
      </dxi-item>
      <dxi-item
        widget="dxButton"
        [options]="refreshButtonOptions"
        location="center"
        locateInMenu="auto"
      >
      </dxi-item>
    </dx-toolbar>
    <div id="kanban">
      <dx-scroll-view
        [direction]="'vertical'"
        [pulledDownText]="'...Fetching'"
        [showScrollbar]="true"
        [reachBottomText]="'Loading...'"
        [scrollByContent]="true"
        [height]="'45vh'"
        (onPullDown)="updateTopContent($event)"
        (onReachBottom)="updateBottomContent($event)"
        [bounceEnabled]="true"
        [scrollByThumb]="true"
      >
        <dx-sortable
          class="sortable-cards"
          group="cardsGroup"
          (onDragStart)="onTaskDragStart($event)"
          (onReorder)="onTaskDrop($event)"
          (onAdd)="onTaskDrop($event)"
          [data]="pendingList"
        >
          <div
            class="card dx-card dx-theme-text-color dx-theme-background-color"
            *ngFor="let item of pendingList"
          >
            <div
              class="card-priority"
              [ngClass]="'priority-' + item?.priority"
            ></div>
            <div class="card-subject">{{ item?.purpose }}</div>
            <div class="card-assignee">
              {{ item?.startDate | date: "fullDate" }}
            </div>
          </div>
        </dx-sortable>
      </dx-scroll-view>
    </div>
  </dxi-item>
  <dxi-item [ratio]="3">
    <p class="sortable-header">Complete</p>
    <dx-toolbar>
      <dxi-item
        widget="dxTextBox"
        [options]="searchBoxOptions"
        location="center"
        locateInMenu="auto"
      >
      </dxi-item>
      <dxi-item
        widget="dxButton"
        [options]="refreshButtonOptions"
        location="center"
        locateInMenu="auto"
      >
      </dxi-item>
    </dx-toolbar>
    <div id="kanban">
      <dx-scroll-view
        [bounceEnabled]="true"
        [direction]="'vertical'"
        [pulledDownText]="'...Fetching'"
        [showScrollbar]="true"
        [reachBottomText]="'Loading...'"
        [scrollByContent]="true"
        [scrollByThumb]="true"
        [height]="'45vh'"
        (onPullDown)="updateTopContent($event)"
        (onReachBottom)="updateBottomContent($event)"
      >
        <dx-sortable
          class="sortable-cards"
          group="cardsGroup"
          (onDragStart)="onTaskDragStart($event)"
          (onReorder)="onTaskDrop($event)"
          (onAdd)="onTaskDrop($event)"
          [data]="completeList"
        >
          <div
            class="card dx-card dx-theme-text-color dx-theme-background-color"
            *ngFor="let item of completeList"
          >
            <div
              class="card-priority"
              [ngClass]="'priority-' + item?.priority"
            ></div>
            <div class="card-subject">{{ item?.purpose }}</div>
            <div class="card-assignee">
              {{ item?.startDate | date: "fullDate" }}
            </div>
          </div>
        </dx-sortable>
      </dx-scroll-view>
    </div>
  </dxi-item>
  <dxi-item [ratio]="7">
    <router-outlet></router-outlet>
  </dxi-item>
</dx-box>
<dx-speed-dial-action
  icon="like"
  label="Request Checkup"
  [index]="1"
  (onClick)="newCheckup()"
>
</dx-speed-dial-action>
<dx-popup
  [width]="400"
  [height]="580"
  [showTitle]="true"
  [shading]="true"
  [title]="'Checkup Information'"
  [dragEnabled]="true"
  [closeOnOutsideClick]="false"
  [showCloseButton]="true"
  [(visible)]="isCheckUpPopupVisible"
  [position]="'center'"
  [classList]="['popup']"
>
  <div *dxTemplate="let data of 'content'">
    <dx-scroll-view
      width="100%"
      height="100%"
      [bounceEnabled]="true"
      [scrollByContent]="true"
      [scrollByThumb]="true"
    >
      <form
        id="form-container"
        (submit)="onSignupSubmit($event)"
        [classList]="['signupForm']"
      >
        <dx-form
          id="form"
          [formData]="checkUpDetail"
          [minColWidth]="233"
          colCount="auto"
          [colCountByScreen]="colCountByScreen"
          [screenByWidth]="screen"
          [showValidationSummary]="true"
          validationGroup="checkUpData"
        >
          <dxi-item
            dataField="customerName"
            [label]="{ text: 'Patient Name' }"
            editorType="dxTextBox"
            [editorOptions]="{ disabled: true }"
          >
          </dxi-item>
          <dxi-item
            dataField="purpose"
            [label]="{ text: 'Purpose' }"
            editorType="dxTextBox"
          >
            <dxi-validation-rule type="required" message="Purpose is required">
            </dxi-validation-rule>
          </dxi-item>
          <dxi-item
            dataField="startDate"
            [label]="{ text: 'Checkup Date' }"
            editorType="dxDateBox"
          >
            <dxi-validation-rule type="required" message="Date is required">
            </dxi-validation-rule>
          </dxi-item>
          <dxi-item
            dataField="healthInsurance"
            [label]="{ text: 'Health Insurance' }"
            editorType="dxSelectBox"
            [editorOptions]="healthInsurance"
          >
            <dxi-validation-rule
              type="required"
              message="Health Insurance is required"
            >
            </dxi-validation-rule>
          </dxi-item>
          <dxi-item
            dataField="location"
            [label]="{ text: 'Doctor Room' }"
            editorType="dxSelectBox"
            [editorOptions]="location"
          >
            <dxi-validation-rule type="required" message="Location is required">
            </dxi-validation-rule>
          </dxi-item>

          <dxi-item itemType="group" [colCount]="2" [cssClass]="'buttonGroup'">
            <dxi-item
              itemType="button"
              horizontalAlignment="center"
              [buttonOptions]="submitButtonOptions"
            >
            </dxi-item>
            <dxi-item
              itemType="button"
              horizontalAlignment="center"
              [buttonOptions]="resetButtonOptions"
            >
            </dxi-item>
          </dxi-item>
        </dx-form>
      </form>
    </dx-scroll-view>
  </div>
</dx-popup>
